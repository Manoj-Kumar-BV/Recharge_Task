<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recharge Success</title>
    <link rel="stylesheet" href="public/css/styles.css">
    <link type="image/png" sizes="16x16" rel="icon" href="public/icons8-topup payment-ios7-16.png">
</head>
<body>
    <div class="container">
        <h1>Recharge Successful!</h1>
        <p>Your recharge has been completed successfully.</p>
        <p>Thank you for using our service!</p>
        <button onclick="downloadSlip()">Download Recharge Slip</button>
        <a href="index.html" class="btn">Go to Login</a>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.4.0/jspdf.umd.min.js"></script>
    <script>
        function downloadSlip() {
            const urlParams = new URLSearchParams(window.location.search);
            const name = urlParams.get('name') || 'N/A';
            const mobile = urlParams.get('mobile') || 'N/A';
            const email = urlParams.get('email') || 'N/A';
            const amount = urlParams.get('amount') || 'N/A';
            const transactionId = urlParams.get('transaction_id') || 'N/A';
            const sim = urlParams.get('sim') || 'N/A';

            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();

            doc.text("Recharge Slip", 10, 10);
        
            doc.text(`Mobile: ${mobile}`, 10, 30);
            doc.text(`Email: ${email}`, 10, 40);
            doc.text(`Amount: ${amount}`, 10, 50);
            doc.text(`Transaction ID: ${transactionId}`, 10, 60);
            doc.text(`SIM: ${sim}`, 10, 70);
            doc.text("Thank you for using our service!", 10, 80);

            doc.save('recharge_slip.pdf');
        }
    </script>
</body>
</html>